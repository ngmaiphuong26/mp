<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>!??</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: radial-gradient(circle at center, #ffdde1, #ee9ca7);
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-family: 'Poppins', sans-serif;
      text-align: center;
      color: #000;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
    }

    h1 {
      z-index: 2;
      font-size: 2.3em;
      color: #b3004a;
      text-shadow: 0 0 10px rgba(255,255,255,0.6);
    }

    #message {
      font-size: 1.2em;
      margin-top: 10px;
      z-index: 2;
      color: #6b0032;
      white-space: pre-line;
    }

    audio {
      position: absolute;
      bottom: 15px;
      left: 15px;
      z-index: 3;
    }
  </style>
</head>
<body>
  <canvas id="hearts"></canvas>

  <h1>TH·∫¨T S·ª∞ KH√îNG HI·ªÇU...</h1>
  <div id="message"></div>
  
  <audio controls autoplay>
    <source src="nhac.mp3" type="audio/wav">
  </audio>
  
  <script>
    // ====== C√ÄI ƒê·∫∂T D·ªÑ CH·ªàNH ======
    const MAX_HEARTS = 100;       // s·ªë l∆∞·ª£ng tim t·ªëi ƒëa
    const GROWTH_MIN = 0.005;     // t·ªëc ƒë·ªô ph√≥ng to ch·∫≠m nh·∫•t
    const GROWTH_MAX = 0.015;     // t·ªëc ƒë·ªô ph√≥ng to nhanh nh·∫•t
    const LIFE_MIN = 100;         // th·ªùi gian t·ªìn t·∫°i ng·∫Øn nh·∫•t (frame)
    const LIFE_MAX = 200;         // th·ªùi gian t·ªìn t·∫°i d√†i nh·∫•t
    const SIZE_MIN = 10;          // k√≠ch th∆∞·ªõc nh·ªè nh·∫•t
    const SIZE_MAX = 30;          // k√≠ch th∆∞·ªõc l·ªõn nh·∫•t
    // ==============================

    const canvas = document.getElementById("hearts");
    const ctx = canvas.getContext("2d");
    let hearts = [];
    let w, h;

    function resize() {
      w = canvas.width = window.innerWidth;
      h = canvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resize);
    resize();

    function random(min, max) {
      return Math.random() * (max - min) + min;
    }

    class Heart {
      constructor() {
        this.x = random(0, w);
        this.y = random(0, h);
        this.size = random(SIZE_MIN, SIZE_MAX);
        this.scale = 0;
        this.growth = random(GROWTH_MIN, GROWTH_MAX);
        this.opacity = 0;
        this.life = 0;
        this.maxLife = random(LIFE_MIN, LIFE_MAX);

        // M·ªói tr√°i tim c√≥ m·ªôt m√†u c·ªë ƒë·ªãnh
        const r = 255;
        const g = random(80, 120);
        const b = random(100, 150);
        this.baseColor = { r, g, b };
      }
      draw() {
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.scale(this.scale, this.scale);
        ctx.beginPath();
        const s = this.size;
        const topCurve = s * 0.3;
        ctx.moveTo(0, topCurve);
        ctx.bezierCurveTo(0, 0, -s/2, 0, -s/2, topCurve);
        ctx.bezierCurveTo(-s/2, s/2, 0, s, 0, s);
        ctx.bezierCurveTo(0, s, s/2, s/2, s/2, topCurve);
        ctx.bezierCurveTo(s/2, 0, 0, 0, 0, topCurve);

        const { r, g, b } = this.baseColor;
        ctx.fillStyle = `rgba(${r}, ${g}, ${b}, ${this.opacity})`;
        ctx.fill();
        ctx.restore();
      }
      update() {
        this.life++;
        this.scale += this.growth;
        // Hi·ªán d·∫ßn r·ªìi m·ªù d·∫ßn
        if (this.life < this.maxLife / 2) {
          this.opacity = this.life / (this.maxLife / 2);
        } else {
          this.opacity = (this.maxLife - this.life) / (this.maxLife / 2);
        }
        this.draw();
      }
    }

    function animate() {
      ctx.clearRect(0, 0, w, h);
      if (hearts.length < MAX_HEARTS) hearts.push(new Heart());
      hearts.forEach((heart, i) => {
        heart.update();
        if (heart.life > heart.maxLife) hearts.splice(i, 1);
      });
      requestAnimationFrame(animate);
    }
    animate();

    // --- Hi·ªán ch·ªØ d·∫ßn ---
    const message = "ƒê·ªÅ ph√≤ng g√¨ c∆°!? Nguy hi·ªÉm g√¨ c∆°!? D√πng n√£o g√¨ c∆°!?\nN√≥i nh·ªØng th·ª© kh√¥ng ƒë·∫ßu kh√¥ng ƒëu√¥i v·∫≠y m√† b·∫Øt ng∆∞·ªùi ta ph·∫£i hi·ªÉu...\nT·ª± hi·ªÉu r·ªìi th√¨ ƒë√¢u ai c·∫ßn h·ªèi l·∫°i anh l√†m g√¨ ƒë√¢u ü•∫\nN·∫øu m√† kh√¥ng mu·ªën n√≥i chuy·ªán th√¨ n√≥i th·∫≥ng ra c≈©ng ƒë∆∞·ª£c m√†... ƒë√¢u c·∫ßn h·∫øt ch√™ em phi·ªÅn r·ªìi l·∫°i l√†m nh∆∞ em ngu l·∫Øm v·∫≠y!?";
    const msgEl = document.getElementById("message");
    let i = 0;
    function showText() {
      if (i < message.length) {
        msgEl.textContent += message.charAt(i);
        i++;
        setTimeout(showText, 70);
      }
    }
    showText();
  </script>
</body>
</html>





